var TopView=Em.View.create({templateName:"container-template",classNames:["top","container"],bkgd:{w:1500,h:413},imgBkgd:function(){return global.assets()+"images/bkgds/main-bkgd.jpg";
},childView:Em.View.extend({templateName:"top-content",classNames:"top-content",copy:copy.main,didInsertElement:function(){resizeAll();}}),didInsertElement:function(){var a=this.childView.create().appendTo(this.$(".content"));
TopView.$().prepend('<img id="bkgd" src="'+this.imgBkgd()+'" style="display:none;" onload="TopView.bkgdLoaded();" />');},bkgdLoaded:function(){TopView.bkgd.w=TopView.$("#bkgd").width();
TopView.bkgd.h=TopView.$("#bkgd").height();TopView.$("#bkgd").fadeIn();resizeAll();},resize:function(f){var a=f.height-AboutView.$().height();var d=TopView.bkgd.h;
TopView.$().css({height:d});$(".top-content").css({top:Math.round(d*0.1)});var c=f.width/d;var g=TopView.bkgd.w/TopView.bkgd.h;var e=a;var b=g*e;if(f.width>b){b=f.width;
e=1/g*b;}if(e<TopView.bkgd.h){e=TopView.bkgd.h;b=g/1*TopView.bkgd.h;}TopView.$("#bkgd").css({height:Math.round(e),width:Math.round(b)});}});var AboutView=Em.View.create({templateName:"container-template",classNames:["about","container"],childView:Em.View.create({templateName:"about-content",copy:copy.about,twitterUser:"https://twitter.com/",tweets:[],init:function(){this.twitterUser="https://twitter.com/"+this.copy.twitter.account;
this._super();},didInsertElement:function(){$.getJSON("http://api.twitter.com/1/statuses/user_timeline.json?screen_name="+this.copy.twitter.account+"&include_entities=0&trim_user=1&count=10&callback=?",function(a){if(a.length>0){var d=AboutView.childView.generateTweet(a[0]);
var b=(a.length>1)?AboutView.childView.generateTweet(a[1]):{};var c=[d,b];AboutView.childView.set("tweets",c);}else{$("#twitter-container").fadeOut();}});
},generateTweet:function(e){var g=e.created_at;g=g.replace("+0000 ","");var c=new Date(g);var f=c.toLocaleDateString();var a=e.text;var b="https://twitter.com/"+e.user.id_str+"/status/"+e.id_str;
return{text:a,date:f,url:b};}}),didInsertElement:function(){this.childView.appendTo(this.$(".content"));},resize:function(a){}});var ServicesView=Em.View.create({templateName:"container-template",classNames:["services","container"],displayTitle:copy.service.title,backgroundImage:global.assets()+"images/bkgds/"+copy.service.imgname,carouselState:0,childView:Em.View.create({templateName:"service-content",classNames:["servicesView"],name:"Services",copy:copy.service,init:function(){for(var a=0;
a<this.copy.services.length;a++){this.copy.services[a].id=a;}this._super();},didInsertElement:function(){this.$(".right-arrow").bind({click:ServicesView.carouselClickRight});
this.$(".left-arrow").bind({click:ServicesView.carouselClickLeft});this.$(".carousel-circle").bind({click:ServicesView.carouselClickCircle});}}),didInsertElement:function(){this.childView.appendTo(this.$(".content"));
},carouselClickCircle:function(){var a=$(this).data("id");ServicesView.gotoSpecificCarouselState(a);},carouselClickRight:function(){ServicesView.gotoSpecificCarouselState(ServicesView.carouselState+1);
},carouselClickLeft:function(){ServicesView.gotoSpecificCarouselState(ServicesView.carouselState-1);},gotoSpecificCarouselState:function(f){if(ServicesView.carouselState!=f){var c=0;
var b=copy.service.services.length-1;var a=false;var d=false;if(f<=c){f=0;d=true;}else{if(f>=b){f=b;a=true;}}var e=-f*$(window).width();ServicesView.carouselState=f;
ServicesView.animateCarousel(e,d,a);}else{return false;}},animateCarousel:function(c,b,a){ServicesView.disableArrow(".right-arrow",a);ServicesView.disableArrow(".left-arrow",b);
ServicesView.$(".carousel-circle").removeClass("active");ServicesView.$(".carousel-circle[data-id='"+ServicesView.carouselState+"']").addClass("active");
ServicesView.$("#service-content").animate({left:c});},disableArrow:function(a,b){Debug.trace(a);if(b){ServicesView.$(a).addClass("disable");}else{if(ServicesView.$(a).hasClass("disable")){ServicesView.$(a).removeClass("disable");
}}},resize:function(a){var b=(a.width-ServicesView.$(".backgroundImage img").width())/2;ServicesView.$(".backgroundImage img").css({left:b});$(".service-item").css({width:a.width});
$("#service-content").css({width:a.width*copy.service.services.length});ServicesView.$("#carousel-position").css({left:(a.width-ServicesView.$("#carousel-position").width())/2});
}});var OpportunitiesView=Em.View.create({templateName:"container-template",classNames:["opportunities","container"],displayTitle:copy.opportunities.title,childView:Em.View.extend({templateName:"opportunities-content",name:"Opportunities",copy:copy.opportunities,init:function(){for(var a=0;
a<this.copy.columns.length;a++){this.copy.columns[a].logo=global.assets()+"images/icons/"+this.copy.columns[a].logo;}this._super();}}),didInsertElement:function(){var a=this.childView.create().appendTo(this.$(".content"));
},resize:function(a){}});var ContactView=Em.View.create({templateName:"container-template",classNames:["contact","container"],displayTitle:copy.contact.title,childView:Em.View.extend({templateName:"contact-content",name:"CONTACT",copy:copy.contact,didInsertElement:function(){ContactView.initMap();
}}),didInsertElement:function(){var a=this.childView.create().appendTo(this.$(".content"));},initMap:function(){this.$().append("<div id='gmaps-container' ></div>");
var c=new google.maps.LatLng(copy.contact.locations[0].lat,copy.contact.locations[0].lng);var f=$("#locations .location-onmap")[0];$(f).addClass("active").html(copy.contact.mapStates.on);
var e=(typeof mapStyle!="undefined")?mapStyle:[];var d={center:c,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:false,zoom:15,maxZoom:17,minZoom:10,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},mapTypeControl:false,panControl:true,styles:e};
gMap=new google.maps.Map(document.getElementById("gmaps-container"),d);for(var a=0;a<copy.contact.locations.length;a++){var g=new google.maps.LatLng(copy.contact.locations[a].lat,copy.contact.locations[a].lng);
var b=new google.maps.Marker({position:g,map:gMap,title:copy.contact.locations[a].name+", "+copy.contact.locations[a].city});}},centerMap:function(b){Debug.trace(" CENTER MAP");
var d=$(b).data("lat");var a=$(b).data("lng");var c=new google.maps.LatLng(d,a);gMap.panTo(c);$("#locations .location-onmap").removeClass("active").html(copy.contact.mapStates.off);
$(b).addClass("active").html(copy.contact.mapStates.on);},resize:function(a){}});var FooterView=Em.View.create({templateName:"container-template",classNames:["footer","container"],childView:Em.View.extend({templateName:"footer-content",name:"FOOTER",copy:copy.footer}),didInsertElement:function(){var a=this.childView.create().appendTo(this.$(".content"));
},resize:function(a){}});var NavView=Em.View.create({templateName:"nav-template",classNames:"navigation",active:0,items:[{name:"SIC Group",id:"about",view:AboutView},{name:"services",id:"services",view:ServicesView},{name:"Opportunities",id:"opportunities",view:OpportunitiesView},{name:"Contact",id:"contact",view:ContactView}],didInsertElement:function(){$(".navigation-item").click(this.itemClicked);
this.updateNav(this.active);resizeAll();},itemClicked:function(b){Debug.trace(" ITEM CLICKED "+$(this).data("link"));for(var a=0;a<NavView.items.length;
a++){if($(this).data("link")==NavView.items[a].id){NavView.updateNav(a);break;}}},updateNav:function(e,g){if(typeof g==="undefined"){g=true;}var j=50;var h=NavView.items[e].view;
var a=h.$().offset().top-j;var d=$(".navigation-item")[e];$(".navigation-item").removeClass("selected");$(d).addClass("selected");if(NavView.items[e].id=="about"){a=0;
}var f=NavView.items[NavView.active].view;var b=Math.abs(f.$().offset().top-a);NavView.set("active",e);if(g==true){var c=1500*b/$("body,html").height();
if(c<500){c=500;}else{if(c>1200){c=1200;}}$("body,html").animate({scrollTop:a},{duration:c,complete:resizeAll,step:resizeAll});}$("#nav-arrow").css({left:$(d).offset().left+$(d).width()/2-$("#nav-arrow").width()/2});
},scrollEvent:function(a,b){NavView.resize({width:global.width(),height:$(window).height()});},resize:function(f){var c=(TopView.$().height()-NavView.$().height());
var b=($(window).scrollTop()>c)?true:false;var h=(b==true)?"fixed":"absolute";var e=(b==true)?0:TopView.$().height()-NavView.$().height();NavView.$().css({position:h,top:e,width:f.width});
for(var g=0;g<NavView.items.length;g++){var d=(g-1<0)?0:g-1;if($(window).scrollTop()<NavView.items[g].view.$().offset().top-100){NavView.updateNav(d,false);
break;}else{if($(window).scrollTop()>NavView.items[NavView.items.length-1].view.$().offset().top-100){NavView.updateNav(NavView.items.length-1,false);break;
}}}var a=$(".navigation-item")[NavView.active];$("#nav-arrow").css({left:$(a).offset().left+$(a).width()/2-$("#nav-arrow").width()/2});}});