<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title></title>
  
  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" href="assets/images/icons/favicon.ico">
  <link rel="apple-touch-icon" href="assets/images/icons/apple-touch-icon.png">
  
  <link rel="stylesheet" href="assets/css/global.css">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
<div id="container" >

</div>


  <script type="text/x-handlebars" data-template-name="container-template" >
    {{#if backgroundImage }}
      <div class="backgroundImage">
        <img {{bindAttr src="backgroundImage"}} />
        <div class='image-shadow-inset'></div>
      </div>
    {{/if}}
    {{#if displayTitle }}<div class="title-master title">{{displayTitle}}</div>{{/if}}
    <div class="content">
    <!-- insert the proper template in here -->      
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="nav-template" >
    <ul>
    {{#each items}}
      <li class="navigation-item" {{bindAttr data-link="id"}} >{{name}}</li>
    {{/each}}
    </ul>
    <div id="nav-arrow"></div>
  </script>



  <!-- CONTENT -->

  <script type="text/x-handlebars" data-template-name="top-content" >
    <div id="logo" ></div>
    <div class="title">{{copy.title}}</div>
    <div id="stars" ></div>
  </script>
  
  <script type="text/x-handlebars" data-template-name="about-content" >
    <div class="body">
      {{#each copy.boldbody}}
        <span class="bold">{{this}}</span>
      {{/each}}
      {{#each copy.body}}
        <span>{{this}}</span>
      {{/each}}
    </div>
    <div id="twitter-container">
      <a class="title btn" {{bindAttr href="twitterUser"}} target="_blank">
        {{copy.twitter.title}}
      </a>
      {{#each tweets}}
      <a {{bindAttr href="url"}} class="twitter-body" target="_blank" >
        {{text}}
      <div class="bottom">
        <!-- <span id="twitter-handle">@{{copy.twitter.account}}</span> -->
        <span id="twitter-time">{{date}}</span>
      </div>
      </a>
      {{/each}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="service-content" >
    <div class="arrow btn left-arrow disable"></div>
    <div class="arrow btn right-arrow"></div>
    <div id="service-content">
      {{#each copy.services }}
        <div class="service-item">
          <div class="title">
          {{title}}
          </div>
          <div class="body">
            {{#each body}}
              <span>{{this}}</span>
            {{/each}}
          </div>
        </div>
      {{/each}}
    </div>
    <div id="carousel-position">
      {{#each copy.services }}
        <div class="carousel-circle btn" {{bindAttr data-id="id"}} ></div>
      {{/each}}
    </div>
  </script>


  <script type="text/x-handlebars" data-template-name="opportunities-content" >
    <ul>
      {{#each copy.columns}}
        <li>
          <div class="op-img" ><img {{bindAttr src="logo"}} /></div>
          <div class="op-title" >{{title}}</div>
          {{#if body}}
            <div class="op-body" >{{body}}</div>
          {{/if}}
          {{#if email}}
            <div class="op-hover" >
              <div class="op-button btn" {{bindAttr data-email="email" }} onclick="email(this);" >{{button}}</div>
            </div>
          {{/if}}
        </li>
      {{/each}}
    </ul>
  </script>
  

  <script type="text/x-handlebars" data-template-name="team-content" >
    <div class="body">
      {{#each copy.body}}
        <span>{{this}}</span>
      {{/each}}
    </div>
    <ul id="members">
    {{#each copy.members}}
      <li>
        <div class="member-name" >{{name}}</div>
        <div class="member-title">{{title}}</div>
        <div class="member-other">{{phone}}</div>
        <div class="member-other btn"><a {{bindAttr data-email="email" }} onclick="email(this);" >{{email}}</a></div>
      </li>
    {{/each}}
    </ul>
  </script>

  <script type="text/x-handlebars" data-template-name="contact-content" >
    <ul id="locations">
    {{#each copy.locations}}
      <li>
        {{#if name}}<div class="location-name">{{name}}</div>{{/if}}
        {{#if title}}<div class="location-other" >{{title}}</div>{{/if}}
        {{#if address}}<div class="location-other">{{address}}</div>{{/if}}
        {{#if city}}<div class="location-other">{{city}}</div>{{/if}}
        {{#if phone}}<div class="location-other topspacing">{{phone}}</div>{{/if}}
        {{#if email}}<div class="location-other btn"><a {{bindAttr data-email="email" }} onclick="email(this);" >{{email}}</a></div>{{/if}}
        {{#if lat }}
          <div class="location-onmap btn" onclick="ContactView.centerMap(this);" 
            {{bindAttr data-lat="lat"}} {{bindAttr data-lng="lng"}} >
            Show on Map
          </div>
        {{/if}}
      </li>
    {{/each}}
    </ul>

    <div id="online" >
      {{#if copy.online }}
        <div class="title" >{{copy.online.title}}</div>
        <div id="share-btns">
          <a id="share-btn-tw" class="btn share-btn" {{bindAttr href="copy.online.facebook"}} target="_blank" ></a>
          <a id="share-btn-fb" class="btn share-btn" {{bindAttr href="copy.online.facebook"}} target="_blank" ></a>
          <a id="share-btn-gp" class="btn share-btn" {{bindAttr href="copy.online.facebook"}} target="_blank" ></a>
        </div>
      {{/if}}
    </div>

  </script>

  <script type="text/x-handlebars" data-template-name="footer-content" >
    {{copy.center}}
  </script>


  <!-- 3rd party libraries -->  
  <script src="assets/js/libs/jquery-1.7.2.min.js"></script>
  <script src="assets/js/libs/jquery.mousewheel.js"></script>
  <script src="assets/js/libs/ember-0.9.8.1.min.js"></script>
  <!-- google maps -->
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

  <script src="assets/js/debugger.js"></script>
  <script type="text/javascript" >
    //'GLOBAL' scope/setup
    //SOME OF THIS could be dynamically retrieved from a server side script:

    var global = new function(){
      
      return{
            //root folder of the overall site
            //add trailing '/' i.e. http://www.example.com/
            root:"",
            
            //CDN hosting and a revision number
            //append it here:
            version:"0", 

            //used only if it is NOT "" 
            //for hosting static files on a different server.
            //add trailing '/' i.e. http://www.example.com/
            _assetsroot:"", 

            assets:function(){
              var path = global.root;
              if( global._assetsroot != '' ) path = global._assetsroot;
              if( global.version > 0 ) path += "/"+global.version+'/';
              path += "assets/";
              return path;
            },

            //FACEBOOK INFO:
            fb:{
              appid:""
            },

            minHeight:650,
            minWidth:1010,

            width:function(){
              return ($(window).width() < global.minWidth )? global.minWidth : $(window).width();
            },
            //Should be one script on start:
            // -the rest managed by require.js 
            // -or all minified into one script?
            insertScripts:[
                        "mapStyle",
                        "copy",
                        "app"
                        ],

            generateScripts:function(){
              //load minify version(s) of scripts:
              //if NOT in debugger mode.

              var appendScriptName = '';
              if( !window.Debug ){
                appendScriptName = '.min';
                //define a blank function to handle all traces:
                window.Debug = new function(){return{trace:function(str){}}};
              }else{ Debug.init(); };
              
              //loop through and find all the scripts 
              //to write into the document.
              var s;
              for(var s=0; s< global.insertScripts.length ; s++ ){
                  var sjs = '<script src="'+global.assets()+'js/'+global.insertScripts[s]+appendScriptName+'.js"><\/script>';
                  document.write( sjs );
              };
            }                       
      }
    }

    global.generateScripts();

  </script>



  <script type="text/javascript" >
    var gMap;

    $(document).ready(function(){

      TopView.appendTo("#container");
      AboutView.appendTo("#container");
      ServicesView.appendTo("#container");
      OpportunitiesView.appendTo("#container");
      ContactView.appendTo("#container");
      FooterView.appendTo("#container");
      NavView.appendTo("#container");

    });

    $(window).bind({
      'mousewheel':function(event, delta) {
        NavView.scrollEvent(event, delta);    
      },

      'resize' : function(event){
        resizeAll();    
      }
    });


    function resizeAll (){

        var w = global.width();
        
        var obj = {width:w , height:$(window).height() };
        
        $("html,body").css({
          "width":w
        });

        TopView.resize(obj);
        AboutView.resize(obj);
        ServicesView.resize(obj);
        OpportunitiesView.resize(obj);
        ContactView.resize(obj);

        NavView.resize(obj);
    };

    function email(t){
      window.open("mailto:"+$(t).data('email') );
    }
    
  </script>


</body>
</html>
