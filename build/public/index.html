<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title></title>
  
  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" href="assets/images/icons/favicon.ico">
  <link rel="apple-touch-icon" href="assets/images/icons/apple-touch-icon.png">
  
  <link rel="stylesheet" href="assets/css/global.css">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
<div id="container" >

</div>


  <script type="text/x-handlebars" data-template-name="container-template" >
    <div class="content">
    <!-- insert the proper template in here -->      
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="nav-template" >
    <ul>
    {{#each items}}
      <li class="navigation-item" {{bindAttr data-link="id"}} >{{name}}</li>
    {{/each}}
    </ul>
  </script>



  <!-- CONTENT -->

  <script type="text/x-handlebars" data-template-name="top-content" >
    <div id="logo" ></div>
    <div class="title">{{copy.title}}</div>
    <div id="stars" ></div>
    <div id="formulas" >
      {{#each formulas}}
      <div class="formula" >
        <div class="formula-container">
          {{title}}
          <div class="formula-number">{{number}}</div>
        </div>
      </div>
      {{/each}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="about-content" >
    <div class="body">
      {{#each copy.body}}
        <span>{{this}}</span>
      {{/each}}
    </div>
    <div id="twitter-container">
      <div class="title">
        {{copy.twitter.title}}
      </div>
      <div class="twitter-body">
        {{tweet}}
      </div>
      <div class="bottom">
        <span id="twitter-handle">@{{copy.twitter.account}}</span>
        <span id="twitter-time">{{tweetTime}}</span>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="formula-content" >
    <div id="formula-graphic" ></div>
    <div id="formula-content">
      <div class="title">{{copy.title}}</div>
      <div class="body">
        {{#each copy.body}}
          <span>{{this}}</span>
        {{/each}}
      </div>
      <ul class="bulletpoints">
        {{#each copy.bulletpoints}}
          <li>{{this}}</li>
        {{/each}}
      </ul>
    </div>
  </script>


  <script type="text/x-handlebars" data-template-name="opportunities-content" >
    <div class="title">{{copy.title}}</div>
    <ul>
      {{#each copy.columns}}
        <li>
          <div class="op-img" ><img {{bindAttr src="logo"}} /></div>
          <div class="op-title" >{{title}}</div>
          <div class="op-body" >{{body}}</div>
          
          {{#if button}}
            <div class="op-button btn">{{button}}</div>
          {{/if}}
          {{#if email}}
            <div class="op-email btn"><a {{bindAttr data-email="email" }} onclick="email(this);" >{{email}}</a></div>
          {{/if}}
        </li>
      {{/each}}
    </ul>
  </script>
  

  <script type="text/x-handlebars" data-template-name="team-content" >
    <div class="title">{{copy.title}}</div>
    <div class="body">
      {{#each copy.body}}
        <span>{{this}}</span>
      {{/each}}
    </div>
    <ul id="members">
    {{#each copy.members}}
      <li>
        <div class="member-name" >{{name}}</div>
        <div class="member-title">{{title}}</div>
        <div class="member-other">{{phone}}</div>
        <div class="member-other btn"><a {{bindAttr data-email="email" }} onclick="email(this);" >{{email}}</a></div>
      </li>
    {{/each}}
    </ul>
  </script>

  <script type="text/x-handlebars" data-template-name="contact-content" >
    <div class="title">{{copy.title}}</div>
    <ul id="locations">
    {{#each copy.locations}}
      <li>
        <div class="location-name">{{name}}</div>
        <div class="location-other" >{{title}}</div>
        <div class="location-other">{{address}}</div>
        <div class="location-other">{{city}}</div>
        <div class="location-other topspacing">{{phone}}</div>
        <div class="location-other btn"><a {{bindAttr data-email="email" }} onclick="email(this);" >{{email}}</a></div>
        <div class="location-onmap btn" onclick="ContactView.centerMap(this);" {{bindAttr data-lat="lat"}} {{bindAttr data-lng="lng"}} >Show on Map</div>
      </li>
    {{/each}}
    </ul>

    <div id="inquiries" >
      <div class="title" >{{copy.inquries.title}}</div>
      <ul>
        {{#each copy.inquries.emails}}
        <li {{bindAttr data-email="this" }} class="btn" onclick="email(this);" ><a >{{this}}</a></li>
        {{/each}}
      </ul>
    </div>

  </script>

  <script type="text/x-handlebars" data-template-name="footer-content" >
    <div id="footer-left">{{copy.left}}</div>
    <div id="footer-right">
      
     </div>
  </script>




  <!-- 3rd party libraries -->  
  <script src="assets/js/libs/jquery-1.7.2.min.js"></script>
  <script src="assets/js/libs/jquery.mousewheel.js"></script>
  <script src="assets/js/libs/ember-0.9.8.1.min.js"></script>
  <!-- google maps -->
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

  
  <!-- 
      remove the debugger loader script on live to: 
        -load MIN scripts
        -disable all Debug.trace calls (runs a blank function.)
  -->
  <script src="assets/js/debugger.js"></script>
  

  
  <script type="text/javascript" >
    //'GLOBAL' scope/setup
    //SOME OF THIS could be dynamically retrieved from a server side script:

    var global = new function(){
      
      return{
            //root folder of the overall site
            //add trailing '/' i.e. http://www.example.com/
            root:"",
            
            //CDN hosting and a revision number
            //append it here:
            version:"0", 

            //used only if it is NOT "" 
            //for hosting static files on a different server.
            //add trailing '/' i.e. http://www.example.com/
            _assetsroot:"", 

            assets:function(){
              var path = global.root;
              if( global._assetsroot != '' ) path = global._assetsroot;
              if( global.version > 0 ) path += "/"+global.version+'/';
              path += "assets/";
              return path;
            },

            //FACEBOOK INFO:
            fb:{
              appid:""
            },

            minHeight:550,

            //Should be one script on start:
            // -the rest managed by require.js 
            // -or all minified into one script?
            insertScripts:[
                        "copy",
                        "app"
                        ],

            generateScripts:function(){
              //load minify version(s) of scripts:
              //if NOT in debugger mode.

              var appendScriptName = '';
              if( !window.Debug ){
                appendScriptName = '.min';
                //define a blank function to handle all traces:
                window.Debug = new function(){return{trace:function(str){}}};
              }else{ Debug.init(); };
              
              //loop through and find all the scripts 
              //to write into the document.
              var s;
              for(var s=0; s< global.insertScripts.length ; s++ ){
                  var sjs = '<script src="'+global.assets()+'js/'+global.insertScripts[s]+appendScriptName+'.js"><\/script>';
                  document.write( sjs );
              };
            }                       
      }
    }

    global.generateScripts();

  </script>



  <script type="text/javascript" >
    var gMap;

    $(document).ready(function(){

      TopView.appendTo("#container");
      AboutView.appendTo("#container");
      FormulasView.appendTo("#container");
      OpportunitiesView.appendTo("#container");
      TeamView.appendTo("#container");
      ContactView.appendTo("#container");
      FooterView.appendTo("#container");
      NavView.appendTo("#container");

    });

    $(window).bind({
      'mousewheel':function(event, delta) {
        NavView.scrollEvent(event, delta);    
      },

      'resize' : function(event){
        resizeAll();    
      }
    });


    function resizeAll (){

        var obj = {width:$(window).width() , height:$(window).height() };
        
        TopView.resize(obj);
        AboutView.resize(obj);
        FormulasView.resize(obj);
        TeamView.resize(obj);
        OpportunitiesView.resize(obj);
        ContactView.resize(obj);

        NavView.resize(obj);
    };

    function email(t){
      window.open("mailto:"+$(t).data('email') );
    }
  </script>


  <!-- FACEBOOK LIKE BUTTON -->
  <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  //&appId=313869242028565
  fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>


</body>
</html>
